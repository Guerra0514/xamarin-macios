#r "_provisionator/provisionator.dll"

using System.IO;
using System.Linq;

using static Xamarin.Provisioning.ProvisioningScript;

Xcode ("@XCODE_VERSION@").XcodeSelectUntrusted ();

// provisionator knows how to deal with this items
Item ("@MONO_PACKAGE@", kind: ItemDependencyKind.AtLeast);
Item ("@VS_PACKAGE@");
Item ("@XI_PACKAGE@");

BrewPackage ("p7zip");

void BrewPackage (string name)
{
	// Assumes brew is already installed. 
	// All Macs provisioned by Xamarin, VSEng, or DDFUN should have brew by default!
	Item (name).Action (i => Exec ("brew", "install", i.Name));
}
